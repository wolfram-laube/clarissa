%%{init: {'theme': 'base', 'themeVariables': {'fontSize': '16px'}}}%%
flowchart TB
    subgraph FE["üñ•Ô∏è FRONTEND"]
        A["Web UI<br/>React"]
        B["Voice SDK<br/>Whisper"]
        C["REST API<br/>FastAPI"]
    end
    
    subgraph CO["üß† CORE"]
        D["LLM<br/>Claude / GPT-4"]
        E["RL Agent<br/>PPO"]
        F["Constraints<br/>Z3 / Prolog"]
    end
    
    subgraph BE["‚öôÔ∏è BACKEND"]
        G["OPM Flow<br/>Simulator"]
        H["Deck<br/>Generator"]
        I["Result<br/>Parser"]
        J[("Vector DB<br/>pgvector")]
    end

    FE --> CO
    CO --> BE
    
    I -->|"convergence<br/>feedback"| E
    J -->|"context<br/>retrieval"| D

    style FE fill:#e3f2fd,stroke:#1565c0
    style CO fill:#fff3e0,stroke:#ef6c00
    style BE fill:#e8f5e9,stroke:#2e7d32
