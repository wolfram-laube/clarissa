<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ADR-040 — Platform Adapter Layer (PAL)</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap');

  :root {
    --bg: #0a0a0f;
    --surface: #12121a;
    --surface2: #1a1a26;
    --surface3: #222233;
    --border: #2a2a3a;
    --border-light: #3a3a4a;
    --text: #e8e8f0;
    --text-dim: #8888a0;
    --text-muted: #555568;
    --accent-ice: #60a5fa;
    --accent-pal: #10b981;
    --accent-opm: #f59e0b;
    --accent-mrst: #a78bfa;
    --accent-red: #ef4444;
    --accent-teal: #14b8a6;
    --done: #10b981;
    --planned: #64748b;
    --glow-ice: rgba(96,165,250,0.12);
    --glow-pal: rgba(16,185,129,0.12);
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    font-family: 'Inter', -apple-system, sans-serif;
    background: var(--bg);
    color: var(--text);
    line-height: 1.7;
    max-width: 960px;
    margin: 0 auto;
    padding: 3rem 2rem;
  }

  /* === HEADER === */
  .adr-header {
    border-bottom: 1px solid var(--border);
    padding-bottom: 2rem;
    margin-bottom: 3rem;
  }

  .adr-id {
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.75rem;
    color: var(--accent-pal);
    letter-spacing: 0.15em;
    text-transform: uppercase;
    margin-bottom: 0.5rem;
  }

  .adr-title {
    font-size: 2rem;
    font-weight: 700;
    line-height: 1.2;
    margin-bottom: 1.5rem;
    background: linear-gradient(135deg, var(--accent-ice), var(--accent-pal));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .meta-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    gap: 0.75rem;
  }

  .meta-item {
    font-size: 0.8rem;
  }

  .meta-label {
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.65rem;
    color: var(--text-muted);
    text-transform: uppercase;
    letter-spacing: 0.1em;
  }

  .meta-value {
    color: var(--text-dim);
  }

  .meta-value.status {
    color: var(--done);
    font-weight: 600;
  }

  /* === SECTIONS === */
  h2 {
    font-size: 1.3rem;
    font-weight: 600;
    margin: 3rem 0 1.2rem;
    padding-bottom: 0.5rem;
    border-bottom: 1px solid var(--border);
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }

  h2 .dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    display: inline-block;
  }

  h3 {
    font-size: 1.05rem;
    font-weight: 600;
    margin: 2rem 0 0.8rem;
    color: var(--accent-ice);
  }

  p { margin-bottom: 1rem; color: var(--text-dim); font-size: 0.92rem; }

  strong { color: var(--text); font-weight: 600; }
  em { color: var(--accent-teal); font-style: normal; }

  /* === PROVENANCE CALLOUT === */
  .provenance {
    background: linear-gradient(135deg, var(--glow-ice), var(--glow-pal));
    border: 1px solid var(--accent-ice);
    border-radius: 12px;
    padding: 1.5rem 2rem;
    margin: 2rem 0;
    position: relative;
    overflow: hidden;
  }

  .provenance::before {
    content: '§';
    position: absolute;
    right: 1.5rem;
    top: 0.5rem;
    font-size: 4rem;
    font-weight: 700;
    color: rgba(96,165,250,0.08);
    font-family: 'JetBrains Mono', monospace;
  }

  .provenance h3 {
    color: var(--accent-ice);
    margin-top: 0;
    font-size: 1rem;
  }

  .provenance p { font-size: 0.88rem; }

  /* === MAPPING TABLE === */
  .mapping-table {
    width: 100%;
    border-collapse: collapse;
    margin: 1.5rem 0;
    font-size: 0.85rem;
  }

  .mapping-table th {
    background: var(--surface2);
    color: var(--text-dim);
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.72rem;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.08em;
    padding: 0.75rem 1rem;
    text-align: left;
    border-bottom: 2px solid var(--border);
  }

  .mapping-table th.ice { color: var(--accent-ice); }
  .mapping-table th.pal { color: var(--accent-pal); }

  .mapping-table td {
    padding: 0.65rem 1rem;
    border-bottom: 1px solid var(--border);
    color: var(--text-dim);
  }

  .mapping-table tr:hover td {
    background: var(--surface2);
  }

  .mapping-table code {
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.82rem;
    color: var(--text);
    background: var(--surface3);
    padding: 2px 6px;
    border-radius: 4px;
  }

  /* === CODE BLOCKS === */
  pre {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 1.2rem 1.5rem;
    overflow-x: auto;
    margin: 1.2rem 0;
    font-size: 0.82rem;
    line-height: 1.6;
  }

  pre code {
    font-family: 'JetBrains Mono', monospace;
    color: var(--text-dim);
  }

  .kw { color: var(--accent-ice); }
  .cls { color: var(--accent-pal); }
  .str { color: var(--accent-opm); }
  .cmt { color: var(--text-muted); font-style: italic; }
  .fn { color: var(--accent-mrst); }
  .typ { color: var(--accent-teal); }

  /* === ARCHITECTURE DIAGRAM === */
  .arch-tree {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 2rem;
    margin: 1.5rem 0;
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.82rem;
    line-height: 2;
  }

  .arch-tree .type-label {
    display: inline-block;
    font-size: 0.65rem;
    padding: 1px 8px;
    border-radius: 4px;
    margin-left: 0.5rem;
    vertical-align: middle;
  }

  .t-abc { background: rgba(96,165,250,0.15); color: var(--accent-ice); border: 1px solid rgba(96,165,250,0.3); }
  .t-impl { background: rgba(16,185,129,0.15); color: var(--done); border: 1px solid rgba(16,185,129,0.3); }
  .t-plan { background: rgba(100,116,139,0.15); color: var(--planned); border: 1px solid rgba(100,116,139,0.3); }
  .t-test { background: rgba(245,158,11,0.15); color: var(--accent-opm); border: 1px solid rgba(245,158,11,0.3); }

  /* === PAL BOUNDARY DIAGRAM === */
  .pal-boundary {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 2rem;
    margin: 1.5rem 0;
    display: grid;
    grid-template-columns: 1fr auto 1fr;
    gap: 0;
    align-items: center;
  }

  .pal-left, .pal-right {
    padding: 1rem;
  }

  .pal-center {
    width: 3px;
    height: 100%;
    background: linear-gradient(to bottom, var(--accent-ice), var(--accent-pal));
    border-radius: 2px;
    position: relative;
  }

  .pal-center::after {
    content: 'PAL';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) rotate(-90deg);
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.65rem;
    color: var(--accent-pal);
    letter-spacing: 0.2em;
    background: var(--surface);
    padding: 0 0.5rem;
    white-space: nowrap;
  }

  .backend-box {
    background: var(--surface2);
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 0.75rem 1rem;
    margin-bottom: 0.5rem;
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.78rem;
  }

  .backend-box.opm { border-left: 3px solid var(--accent-opm); }
  .backend-box.mrst { border-left: 3px solid var(--accent-mrst); }
  .backend-box.mock { border-left: 3px solid var(--text-muted); }

  .result-box {
    background: var(--surface2);
    border: 1px solid var(--accent-pal);
    border-radius: 8px;
    padding: 1rem;
    text-align: center;
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.85rem;
    color: var(--accent-pal);
  }

  .arrow {
    text-align: center;
    color: var(--text-muted);
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.8rem;
    padding: 0.3rem 0;
  }

  /* === CONSEQUENCE CARDS === */
  .consequence-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1rem;
    margin: 1.5rem 0;
  }

  .consequence {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 1.2rem;
  }

  .consequence.pos { border-top: 3px solid var(--done); }
  .consequence.neg { border-top: 3px solid var(--accent-red); }

  .consequence h4 {
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.72rem;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    margin-bottom: 0.75rem;
  }

  .consequence.pos h4 { color: var(--done); }
  .consequence.neg h4 { color: var(--accent-red); }

  .consequence p {
    font-size: 0.82rem;
    margin-bottom: 0.5rem;
  }

  /* === COMPLIANCE BADGES === */
  .compliance {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    margin: 1.5rem 0;
  }

  .badge {
    display: inline-flex;
    align-items: center;
    gap: 0.4rem;
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.72rem;
    padding: 0.35rem 0.75rem;
    border-radius: 6px;
    background: rgba(16,185,129,0.1);
    border: 1px solid rgba(16,185,129,0.25);
    color: var(--done);
  }

  .badge::before {
    content: '✓';
    font-weight: 700;
  }

  /* === FILE TREE === */
  .file-tree {
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.8rem;
    line-height: 1.8;
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 1.5rem;
    margin: 1.5rem 0;
    color: var(--text-dim);
  }

  .file-tree .dir { color: var(--accent-ice); }
  .file-tree .file { color: var(--text-dim); }
  .file-tree .comment { color: var(--text-muted); font-size: 0.72rem; }

  /* === FOOTER === */
  .footer {
    margin-top: 4rem;
    padding-top: 1.5rem;
    border-top: 1px solid var(--border);
    font-size: 0.75rem;
    color: var(--text-muted);
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .footer a {
    color: var(--accent-ice);
    text-decoration: none;
  }

  /* === RESPONSIVE === */
  @media (max-width: 700px) {
    body { padding: 1.5rem 1rem; }
    .adr-title { font-size: 1.5rem; }
    .consequence-grid { grid-template-columns: 1fr; }
    .pal-boundary { grid-template-columns: 1fr; }
    .pal-center { width: 100%; height: 3px; }
    .meta-grid { grid-template-columns: 1fr 1fr; }
  }
</style>
</head>
<body>

<!-- HEADER -->
<div class="adr-header">
  <div class="adr-id">Architecture Decision Record</div>
  <h1 class="adr-title">ADR-040: Platform Adapter Layer (PAL)<br>Pluggable Backend Architecture</h1>
  <div class="meta-grid">
    <div class="meta-item">
      <div class="meta-label">Status</div>
      <div class="meta-value status">Accepted</div>
    </div>
    <div class="meta-item">
      <div class="meta-label">Date</div>
      <div class="meta-value">2026-02-22</div>
    </div>
    <div class="meta-item">
      <div class="meta-label">Author</div>
      <div class="meta-value">Wolfram Laube</div>
    </div>
    <div class="meta-item">
      <div class="meta-label">Epic</div>
      <div class="meta-value">#161 · Sim-Engine</div>
    </div>
    <div class="meta-item">
      <div class="meta-label">Related</div>
      <div class="meta-value">ADR-024, ADR-038, ADR-011</div>
    </div>
    <div class="meta-item">
      <div class="meta-label">Issues</div>
      <div class="meta-value">#162 #163 #164 #165 #166 #172</div>
    </div>
  </div>
</div>

<!-- CONTEXT -->
<h2><span class="dot" style="background: var(--accent-ice)"></span> Context</h2>

<p>CLARISSA requires integration with multiple, fundamentally different reservoir simulators — each with its own input formats, execution models, and output structures. Currently <strong>OPM Flow</strong> (Eclipse-compatible, open source) and <strong>MRST</strong> (MATLAB/Octave-based, academic) are targeted, with commercial simulators (Schlumberger ECLIPSE, CMG) as potential future additions.</p>

<p>Without an abstraction layer, each simulator integration would be a standalone implementation with its own API contract, test harness, and deployment model. This leads to code duplication, divergent interfaces, and the impossibility of <em>cross-simulator comparison</em> — which is the core scientific value proposition of CLARISSA.</p>

<!-- PROVENANCE -->
<div class="provenance">
  <h3>Architectural Provenance — ICE v2.1</h3>
  <p>The Platform Adapter Layer draws directly from the <strong>ICE (Infrastructure Cloud Engine) v2.1 architecture</strong> designed by the author for the Elia Group / 50Hertz EDP Platform (2024). In ICE, heterogeneous infrastructure backends (compute, storage, network across private and public clouds) are abstracted behind a unified adapter contract.</p>
  <p>The key insight from ICE: <strong>the abstraction boundary must sit at the result format, not the input format.</strong> Each backend has fundamentally different input requirements (Terraform vs. Ansible vs. CloudFormation in ICE; Eclipse .DATA vs. MRST .m scripts in CLARISSA), but the consumer of results needs a uniform contract.</p>
  <p>This is not coincidental similarity — it is the same architectural pattern applied by the same architect to an analogous problem domain.</p>
</div>

<!-- MAPPING TABLE -->
<table class="mapping-table">
  <thead>
    <tr>
      <th class="ice">ICE v2.1 (Elia / 50Hertz)</th>
      <th class="pal">CLARISSA PAL</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ResourceAdapter</code> (ABC)</td>
      <td><code>PlatformAdapter</code> (ABC)</td>
    </tr>
    <tr>
      <td><code>ComputeAdapter</code>, <code>StorageAdapter</code>, <code>NetworkAdapter</code></td>
      <td><code>SimulatorBackend</code>, <code>EvidenceProvider</code>, <code>EventBus</code></td>
    </tr>
    <tr>
      <td><code>AdapterRegistry</code></td>
      <td><code>AdapterRegistry</code> (identical pattern)</td>
    </tr>
    <tr>
      <td><code>healthy()</code> + <code>info()</code></td>
      <td><code>healthy()</code> + <code>info()</code> (identical contract)</td>
    </tr>
    <tr>
      <td>Terraform / Ansible / CF → Provisioned Resource</td>
      <td>Eclipse .DATA / MRST .m → <code>UnifiedResult</code></td>
    </tr>
    <tr>
      <td>Hybrid Cloud (private + AWS/Azure/GCP)</td>
      <td>Multi-Simulator (OPM + MRST + commercial)</td>
    </tr>
  </tbody>
</table>

<!-- DECISION -->
<h2><span class="dot" style="background: var(--accent-pal)"></span> Decision</h2>

<h3>1. PlatformAdapter ABC</h3>

<p>All pluggable components in CLARISSA extend <code>PlatformAdapter</code> — minimal contract, maximum extensibility:</p>

<pre><code><span class="kw">class</span> <span class="cls">PlatformAdapter</span>(<span class="typ">ABC</span>):
    adapter_type: <span class="typ">str</span> = <span class="str">"generic"</span>  <span class="cmt"># Override per subclass category</span>

    <span class="kw">@property</span>
    <span class="kw">@abstractmethod</span>
    <span class="kw">def</span> <span class="fn">name</span>(self) -> <span class="typ">str</span>: ...      <span class="cmt"># Unique within adapter_type</span>

    <span class="kw">def</span> <span class="fn">healthy</span>(self) -> <span class="typ">bool</span>: ...   <span class="cmt"># Operational check</span>
    <span class="kw">def</span> <span class="fn">info</span>(self) -> <span class="typ">dict</span>: ...      <span class="cmt"># Metadata for discovery</span></code></pre>

<h3>2. Adapter Type Hierarchy</h3>

<div class="arch-tree">
  <span class="cls">PlatformAdapter</span> <span class="type-label t-abc">ABC</span><br>
  ├── <span class="cls">SimulatorBackend</span> <span class="type-label t-abc">ABC</span> &nbsp; adapter_type = <span class="str">"simulator"</span><br>
  │&nbsp;&nbsp; ├── <span class="cls">OPMBackend</span> <span class="type-label t-impl">✓ Phase A</span> &nbsp; name = <span class="str">"opm"</span><br>
  │&nbsp;&nbsp; ├── <span class="cls">MRSTBackend</span> <span class="type-label t-plan">Phase B #166</span> &nbsp; name = <span class="str">"mrst"</span><br>
  │&nbsp;&nbsp; └── <span class="cls">MockBackend</span> <span class="type-label t-test">Testing</span> &nbsp; name = <span class="str">"mock"</span><br>
  │<br>
  ├── <span class="cls">EvidenceProvider</span> <span class="type-label t-abc">ABC</span> &nbsp; adapter_type = <span class="str">"evidence"</span><br>
  │&nbsp;&nbsp; ├── <span class="cls">WeatherProvider</span> <span class="type-label t-impl">✓ Dialectic</span><br>
  │&nbsp;&nbsp; └── <span class="cls">SimResultProvider</span> <span class="type-label t-plan">#170</span><br>
  │<br>
  └── <span class="cls">EventBus</span> <span class="type-label t-abc">ABC</span> &nbsp; adapter_type = <span class="str">"event"</span><br>
  &nbsp;&nbsp;&nbsp; ├── <span class="cls">PubSubBus</span> <span class="type-label t-plan">#171</span><br>
  &nbsp;&nbsp;&nbsp; └── <span class="cls">InMemoryBus</span> <span class="type-label t-test">Testing</span>
</div>

<h3>3. SimulatorBackend Contract</h3>

<p>The simulator-specific contract extends <code>PlatformAdapter</code> with three phases. <strong>Critical design choice: asymmetric I/O.</strong> Input is backend-specific, output is always <code>UnifiedResult</code> — the PAL boundary sits at the result format:</p>

<!-- PAL BOUNDARY DIAGRAM -->
<div class="pal-boundary">
  <div class="pal-left">
    <div class="backend-box opm">
      <strong>OPM Flow</strong><br>
      SimRequest → .DATA → <code>flow</code> subprocess
    </div>
    <div class="backend-box mrst">
      <strong>MRST</strong><br>
      SimRequest → .m script → <code>octave</code> subprocess
    </div>
    <div class="backend-box mock">
      <strong>Mock</strong><br>
      SimRequest → in-memory computation
    </div>
  </div>
  <div class="pal-center"></div>
  <div class="pal-right">
    <div class="result-box">
      <strong>UnifiedResult</strong><br>
      <span style="font-size:0.75rem; color: var(--text-dim);">Pydantic model · JSON contract<br>
      Identical for all consumers:<br>
      sim_api · delta_engine · portal</span>
    </div>
  </div>
</div>

<pre><code><span class="cmt"># Phase 1: Validate</span>
errors: <span class="typ">list[str]</span> = backend.<span class="fn">validate</span>(request)  <span class="cmt"># [] = valid</span>

<span class="cmt"># Phase 2: Execute</span>
raw: <span class="typ">dict</span> = backend.<span class="fn">run</span>(request, work_dir, on_progress)

<span class="cmt"># Phase 3: Parse → Unified</span>
result: <span class="cls">UnifiedResult</span> = backend.<span class="fn">parse_result</span>(raw, request)</code></pre>

<h3>4. AdapterRegistry</h3>

<pre><code>registry = <span class="cls">AdapterRegistry</span>()
registry.<span class="fn">register</span>(<span class="cls">OPMBackend</span>())
registry.<span class="fn">register</span>(<span class="cls">MRSTBackend</span>())

<span class="cmt"># Discovery</span>
backend = registry.<span class="fn">get</span>(<span class="str">"simulator"</span>, <span class="str">"opm"</span>)     <span class="cmt"># → OPMBackend</span>
names   = registry.<span class="fn">list_names</span>(<span class="str">"simulator"</span>)        <span class="cmt"># → ["opm", "mrst"]</span>
health  = registry.<span class="fn">health</span>()                      <span class="cmt"># → {"healthy": True, ...}</span></code></pre>

<h3>5. File Structure</h3>

<div class="file-tree">
  <span class="dir">src/clarissa/</span><br>
  ├── <span class="dir">pal/</span> <span class="comment">← Platform Adapter Layer (generic)</span><br>
  │&nbsp;&nbsp; ├── <span class="file">__init__.py</span> <span class="comment">PlatformAdapter, AdapterRegistry</span><br>
  │&nbsp;&nbsp; ├── <span class="file">base.py</span> <span class="comment">PlatformAdapter ABC</span><br>
  │&nbsp;&nbsp; └── <span class="file">registry.py</span> <span class="comment">AdapterRegistry</span><br>
  │<br>
  └── <span class="dir">sim_engine/</span> <span class="comment">← Simulator-specific PAL specialization</span><br>
  &nbsp;&nbsp;&nbsp; ├── <span class="file">models.py</span> <span class="comment">SimRequest, UnifiedResult</span><br>
  &nbsp;&nbsp;&nbsp; ├── <span class="file">deck_generator.py</span> <span class="comment">Eclipse .DATA generation</span><br>
  &nbsp;&nbsp;&nbsp; ├── <span class="file">sim_api.py</span> <span class="comment">FastAPI service</span><br>
  &nbsp;&nbsp;&nbsp; ├── <span class="file">Dockerfile</span> <span class="comment">OPM Flow container</span><br>
  &nbsp;&nbsp;&nbsp; └── <span class="dir">backends/</span><br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ├── <span class="file">base.py</span> <span class="comment">SimulatorBackend(PlatformAdapter)</span><br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ├── <span class="file">registry.py</span> <span class="comment">Simulator registry wrapper</span><br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ├── <span class="file">opm_backend.py</span> <span class="comment">OPM Flow ✓</span><br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; └── <span class="file">mrst_backend.py</span> <span class="comment">MRST/Octave (Phase B)</span>
</div>

<!-- CONSEQUENCES -->
<h2><span class="dot" style="background: var(--accent-opm)"></span> Consequences</h2>

<div class="consequence-grid">
  <div class="consequence pos">
    <h4>Positive</h4>
    <p><strong>Backend-agnostic consumers:</strong> FastAPI, Delta Engine, Portal work identically regardless of simulator.</p>
    <p><strong>Cross-validation:</strong> Same SimRequest through OPM + MRST, compare UnifiedResult — the core CLARISSA value.</p>
    <p><strong>Testability:</strong> MockBackend for unit tests, real backends for integration — same interface.</p>
    <p><strong>Extensibility:</strong> Adding a commercial simulator requires only implementing SimulatorBackend.</p>
    <p><strong>Proven pattern:</strong> ICE v2.1 validates the abstraction under production load.</p>
  </div>
  <div class="consequence neg">
    <h4>Tradeoffs</h4>
    <p><strong>Lowest common denominator:</strong> UnifiedResult can only contain data all simulators produce. Mitigated by <code>extras: dict</code> field.</p>
    <p><strong>Abstraction leaks:</strong> Eclipse deck assumptions may bleed into SimRequest. Mitigated by generic FluidProperties.</p>
    <p><strong>Registry overhead:</strong> Over-engineered for 2-3 backends alone. Justified by extension to evidence providers + event buses.</p>
  </div>
</div>

<!-- COMPLIANCE -->
<h2><span class="dot" style="background: var(--done)"></span> Compliance</h2>

<div class="compliance">
  <span class="badge">ICE v2.1 §3.2.12 aligned</span>
  <span class="badge">ADR-024 Core Architecture</span>
  <span class="badge">ADR-038 Sim-Engine</span>
  <span class="badge">GOV-001 test coverage (90+)</span>
  <span class="badge">Pydantic models typed</span>
  <span class="badge">No cross-repo code sharing</span>
</div>

<!-- FOOTER -->
<div class="footer">
  <div>
    ADR-040 · CLARISSA · Blauweiss EDV e.U.<br>
    References: ICE v2.1 (Elia/50Hertz, 2024) · ADR-024 · ADR-038 · Epic #161
  </div>
  <div style="text-align: right;">
    <a href="https://gitlab.com/wolfram_laube/blauweiss_llc/projects/clarissa">GitLab</a>
  </div>
</div>

</body>
</html>
