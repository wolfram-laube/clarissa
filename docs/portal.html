<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéØ Blauweiss Operations Portal</title>
    <!-- i18next from CDN -->
    <script src="https://unpkg.com/i18next@23.7.6/i18next.min.js"></script>
    <!-- Noto Sans for all scripts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@400;500;600;700&family=Noto+Sans+JP:wght@400;500;600;700&family=Noto+Sans+SC:wght@400;500;600;700&family=Noto+Sans+Thai:wght@400;500;600;700&family=Noto+Sans+Georgian:wght@400;500;600;700&family=Noto+Sans+Devanagari:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #0f0f1a;
            --surface: #1a1a2e;
            --surface2: #252542;
            --text: #e4e4f0;
            --subtext: #9090a8;
            --accent: #6c5ce7;
            --green: #00cec9;
            --yellow: #fdcb6e;
            --red: #ff7675;
            --blue: #74b9ff;
            --purple: #a29bfe;
        }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            font-family: 'Noto Sans', 'Noto Sans JP', 'Noto Sans SC', 'Noto Sans Thai', 'Noto Sans Georgian', 'Noto Sans Devanagari', -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
            background: var(--bg);
            color: var(--text);
            min-height: 100vh;
            padding: 20px;
        }
        .container { max-width: 1400px; margin: 0 auto; }
        
        /* Language Switcher */
        #language-switcher {
            display: flex;
            justify-content: center;
            gap: 8px;
            flex-wrap: wrap;
            margin-bottom: 20px;
            padding: 12px;
            background: var(--surface);
            border-radius: 12px;
        }
        .lang-btn {
            display: flex;
            align-items: center;
            gap: 6px;
            padding: 8px 12px;
            background: var(--surface2);
            border: 1px solid transparent;
            border-radius: 8px;
            color: var(--text);
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.2s;
        }
        .lang-btn:hover {
            background: var(--accent);
            transform: translateY(-2px);
        }
        .lang-btn.active {
            background: var(--accent);
            border-color: var(--purple);
        }
        .lang-btn .lang-name {
            display: none;
        }
        @media (min-width: 768px) {
            .lang-btn .lang-name {
                display: inline;
            }
        }
        
        header {
            text-align: center;
            padding: 30px 0;
            border-bottom: 1px solid var(--surface2);
            margin-bottom: 30px;
        }
        header h1 {
            font-size: 2.5rem;
            background: linear-gradient(135deg, var(--accent), var(--purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        header .subtitle { color: var(--subtext); margin-top: 8px; }
        
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .card {
            background: var(--surface);
            border-radius: 16px;
            padding: 24px;
            border: 1px solid var(--surface2);
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .card:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 40px rgba(108, 92, 231, 0.15);
        }
        .card h2 {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 1.3rem;
            margin-bottom: 16px;
        }
        .card h2 .icon {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.4rem;
        }
        .card p { color: var(--subtext); margin-bottom: 16px; line-height: 1.5; }
        
        .btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 12px 20px;
            border-radius: 10px;
            font-weight: 600;
            text-decoration: none;
            transition: all 0.2s;
            border: none;
            cursor: pointer;
            font-size: 0.95rem;
        }
        .btn-primary { background: var(--accent); color: white; }
        .btn-primary:hover { background: #5b4cdb; }
        .btn-secondary { background: var(--surface2); color: var(--text); }
        .btn-secondary:hover { background: #303050; }
        .btn-success { background: var(--green); color: var(--bg); }
        .btn-warning { background: var(--yellow); color: var(--bg); }
        .btn-danger { background: var(--red); color: white; }
        
        .btn-group { display: flex; flex-wrap: wrap; gap: 10px; }
        
        .status {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 500;
        }
        .status-ok { background: rgba(0, 206, 201, 0.15); color: var(--green); }
        .status-warn { background: rgba(253, 203, 110, 0.15); color: var(--yellow); }
        .status-err { background: rgba(255, 118, 117, 0.15); color: var(--red); }
        .status::before {
            content: '';
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: currentColor;
        }
        
        .quick-links {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            padding: 20px;
            background: var(--surface);
            border-radius: 12px;
            margin-bottom: 30px;
        }
        .quick-links a {
            color: var(--blue);
            text-decoration: none;
            padding: 8px 16px;
            background: var(--surface2);
            border-radius: 8px;
            font-size: 0.9rem;
        }
        .quick-links a:hover { background: var(--accent); color: white; }
        
        .section-title {
            font-size: 1.1rem;
            color: var(--subtext);
            text-transform: uppercase;
            letter-spacing: 2px;
            margin: 30px 0 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--surface2);
        }
        
        .stats-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }
        .stat {
            background: var(--surface);
            padding: 20px;
            border-radius: 12px;
            text-align: center;
        }
        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--accent);
        }
        .stat-label {
            color: var(--subtext);
            font-size: 0.85rem;
            margin-top: 4px;
        }
        
        #output {
            background: var(--surface);
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 0.9rem;
            max-height: 300px;
            overflow-y: auto;
            display: none;
        }
        #output.visible { display: block; }
        
        footer {
            text-align: center;
            padding: 30px;
            color: var(--subtext);
            font-size: 0.85rem;
        }
        footer a { color: var(--blue); }
        
        @media (max-width: 768px) {
            .grid { grid-template-columns: 1fr; }
            header h1 { font-size: 1.8rem; }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Language Switcher -->
        <div id="language-switcher"></div>
        
        <header>
            <h1>üéØ <span data-i18n="header.title">Blauweiss Operations Portal</span></h1>
            <p class="subtitle" data-i18n="header.subtitle">Zentrale Steuerung f√ºr Bewerbungen, CRM, Billing & Infrastruktur</p>
        </header>
        
        <div class="quick-links">
            <a href="https://gitlab.com/wolfram_laube/blauweiss_llc/ops/crm/-/boards/10081703" target="_blank">üìã <span data-i18n="quickLinks.crmBoard">CRM Board</span></a>
            <a href="https://gitlab.com/wolfram_laube/blauweiss_llc/ops/crm/-/issues?label_name[]=hot-lead" target="_blank">üî• <span data-i18n="quickLinks.hotLeads">Hot Leads</span></a>
            <a href="https://gitlab.com/wolfram_laube/blauweiss_llc/projects/clarissa/-/pipelines" target="_blank">üîÑ <span data-i18n="quickLinks.pipelines">Pipelines</span></a>
            <a href="https://gitlab.com/wolfram_laube/blauweiss_llc/projects/clarissa/-/pipeline_schedules" target="_blank">üìÖ <span data-i18n="quickLinks.schedules">Schedules</span></a>
            <a href="https://gitlab.com/wolfram_laube/blauweiss_llc/projects/clarissa" target="_blank">üêô <span data-i18n="quickLinks.githubMirror">GitHub Mirror</span></a>
            <a href="https://gitlab.com/wolfram_laube/blauweiss_llc/projects/clarissa/-/blob/main/docs/ops/crm.md" target="_blank" target="_blank">üìñ <span data-i18n="quickLinks.crmDocs">CRM Docs</span></a>
        </div>
        
        <div class="stats-row" id="stats">
            <div class="stat">
                <div class="stat-value" id="stat-issues">‚Äî</div>
                <div class="stat-label" data-i18n="stats.crmIssues">CRM Issues</div>
            </div>
            <div class="stat">
                <div class="stat-value" id="stat-hotleads">‚Äî</div>
                <div class="stat-label" data-i18n="stats.hotLeads">Hot Leads</div>
            </div>
            <div class="stat">
                <div class="stat-value" id="stat-pipeline">‚Äî</div>
                <div class="stat-label" data-i18n="stats.activePipeline">Aktive Pipeline</div>
            </div>
            <div class="stat">
                <div class="stat-value" id="stat-conversion">‚Äî</div>
                <div class="stat-label" data-i18n="stats.conversion">Conversion</div>
            </div>
        </div>
        
        <!-- Applications Management -->
        <div class="section-title">üìä <span data-i18n="sections.applications">Bewerbungs-Management</span></div>
        <div class="grid">
            <div class="card">
                <h2><span class="icon" style="background: linear-gradient(135deg, #6c5ce7, #a29bfe);">üîç</span> <span data-i18n="applications.crawler.title">Applications Crawler</span></h2>
                <p data-i18n="applications.crawler.description">Crawlt freelancermap.de nach neuen Projekten. Keywords: DevOps, Python, AI, Kubernetes.</p>
                <div class="btn-group">
                    <button class="btn btn-primary" onclick="triggerPipeline('APPLICATIONS_CRAWL')">‚ñ∂Ô∏è <span data-i18n="applications.crawler.start">Crawl starten</span></button>
                    <a href="https://gitlab.com/wolfram_laube/blauweiss_llc/projects/clarissa/-/pipeline_schedules" target="_blank" class="btn btn-secondary">‚öôÔ∏è <span data-i18n="common:actions.configure">Konfigurieren</span></a>
                </div>
            </div>
            
            <div class="card">
                <h2><span class="icon" style="background: linear-gradient(135deg, #00cec9, #81ecec);">üéØ</span> <span data-i18n="applications.matcher.title">Applications Matcher</span></h2>
                <p data-i18n="applications.matcher.description">Matched gecrawlte Projekte gegen Profile (Wolfram, Ian, Michael, Team).</p>
                <div class="btn-group">
                    <button class="btn btn-primary" onclick="triggerPipeline('APPLICATIONS_MATCH')">‚ñ∂Ô∏è <span data-i18n="applications.matcher.start">Match starten</span></button>
                    <a href="https://gitlab.com/wolfram_laube/blauweiss_llc/projects/clarissa/-/pipeline_schedules" target="_blank" class="btn btn-secondary">‚öôÔ∏è <span data-i18n="common:actions.configure">Konfigurieren</span></a>
                </div>
            </div>
            
            <div class="card">
                <h2><span class="icon" style="background: linear-gradient(135deg, #fdcb6e, #ffeaa7);">‚úâÔ∏è</span> <span data-i18n="applications.drafts.title">Gmail Drafter</span></h2>
                <p data-i18n="applications.drafts.description">Erstellt Gmail-Entw√ºrfe f√ºr Top-Matches mit personalisierten Anschreiben.</p>
                <div class="btn-group">
                    <button class="btn btn-primary" onclick="triggerPipeline('APPLICATIONS_DRAFTS')">‚ñ∂Ô∏è <span data-i18n="applications.drafts.start">Drafts erstellen</span></button>
                    <a href="https://gitlab.com/wolfram_laube/blauweiss_llc/projects/clarissa/-/pipeline_schedules" target="_blank" class="btn btn-secondary">‚öôÔ∏è <span data-i18n="common:actions.configure">Konfigurieren</span></a>
                </div>
            </div>
            
            <div class="card">
                <h2><span class="icon" style="background: linear-gradient(135deg, #ff7675, #fab1a0);">üöÄ</span> <span data-i18n="applications.fullPipeline.title">Full Pipeline</span></h2>
                <p data-i18n="applications.fullPipeline.description">Komplette Pipeline: Crawl ‚Üí Match ‚Üí QA ‚Üí Drafts. T√§glich Mo-Fr 08:00.</p>
                <div class="btn-group">
                    <button class="btn btn-success" onclick="triggerPipeline('APPLICATIONS_PIPELINE')">‚ñ∂Ô∏è <span data-i18n="applications.fullPipeline.start">Volle Pipeline</span></button>
                    <button class="btn btn-secondary" onclick="triggerPipeline('APPLICATIONS_DRY_RUN')">üîç <span data-i18n="applications.fullPipeline.dryRun">Dry Run</span></button>
                </div>
            </div>
        </div>
        
        <!-- CRM & QA -->
        <div class="section-title">üìã <span data-i18n="sections.crm">CRM & Qualit√§tssicherung</span></div>
        <div class="grid">
            <div class="card">
                <h2><span class="icon" style="background: linear-gradient(135deg, #74b9ff, #0984e3);">üìä</span> <span data-i18n="crm.board.title">CRM Board</span></h2>
                <p data-i18n="crm.board.description">Kanban-Board mit 185 Issues. 8 Status-Spalten von Neu bis Zusage.</p>
                <div class="btn-group">
                    <a href="https://gitlab.com/wolfram_laube/blauweiss_llc/ops/crm/-/boards/10081703" class="btn btn-primary" target="_blank">üìã <span data-i18n="crm.board.open">Board √∂ffnen</span></a>
                    <a href="https://gitlab.com/wolfram_laube/blauweiss_llc/ops/crm/-/issues/new" class="btn btn-secondary" target="_blank">‚ûï <span data-i18n="crm.board.newIssue">Neues Issue</span></a>
                </div>
            </div>
            
            <div class="card">
                <h2><span class="icon" style="background: linear-gradient(135deg, #a29bfe, #6c5ce7);">üîç</span> <span data-i18n="crm.integrity.title">CRM Integrity Check</span></h2>
                <p data-i18n="crm.integrity.description">Pr√ºft Label-Konsistenz, Ghost-Detection, Funnel-Health. Weekly Mo 07:00.</p>
                <div class="btn-group">
                    <button class="btn btn-primary" onclick="triggerPipeline('CRM_QA')">‚ñ∂Ô∏è <span data-i18n="crm.integrity.start">Check starten</span></button>
                    <a href="https://gitlab.com/wolfram_laube/blauweiss_llc/projects/clarissa/-/pipeline_schedules" target="_blank" class="btn btn-secondary">üìä <span data-i18n="crm.integrity.lastReport">Letzter Report</span></a>
                </div>
            </div>
        </div>
        
        <!-- Billing -->
        <div class="section-title">üí∞ <span data-i18n="sections.billing">Billing & Zeiterfassung</span></div>
        <div class="grid">
            <div class="card">
                <h2><span class="icon" style="background: linear-gradient(135deg, #00b894, #55efc4);">üìù</span> <span data-i18n="billing.timesheet.title">Timesheet Generator</span></h2>
                <p data-i18n="billing.timesheet.description">Generiert Timesheets aus Kalender-Events. Monatlich am 1. um 06:00.</p>
                <div class="btn-group">
                    <button class="btn btn-primary" onclick="triggerPipeline('BILLING_TIMESHEET')">‚ñ∂Ô∏è <span data-i18n="billing.timesheet.trigger">Timesheet generieren</span></button>
                    <a href="https://gitlab.com/wolfram_laube/blauweiss_llc/projects/clarissa/-/pipeline_schedules" target="_blank" class="btn btn-secondary">‚öôÔ∏è <span data-i18n="common:actions.configure">Konfigurieren</span></a>
                    <a href="https://drive.google.com/drive/my-drive" class="btn btn-secondary" target="_blank">üìÅ <span data-i18n="billing.timesheet.drive">Google Drive</span></a>
                </div>
            </div>
            
            <div class="card">
                <h2><span class="icon" style="background: linear-gradient(135deg, #e17055, #fab1a0);">üßæ</span> <span data-i18n="billing.invoice.title">Rechnungserstellung</span></h2>
                <p data-i18n="billing.invoice.description">PDF-Rechnungen aus Timesheets generieren und per E-Mail versenden.</p>
                <div class="btn-group">
                    <button class="btn btn-primary" onclick="triggerPipeline('BILLING_INVOICE')">‚ñ∂Ô∏è <span data-i18n="billing.invoice.create">Rechnung erstellen</span></button>
                    <a href="https://gitlab.com/wolfram_laube/blauweiss_llc/projects/clarissa/-/pipeline_schedules" target="_blank" class="btn btn-secondary">‚öôÔ∏è <span data-i18n="common:actions.configure">Konfigurieren</span></a>
                </div>
            </div>
        </div>
        
        <!-- Infrastructure -->
        <div class="section-title">üñ•Ô∏è <span data-i18n="sections.infrastructure">Entwicklungsumgebungen</span></div>
        <div class="grid">
            <div class="card">
                <h2><span class="icon" style="background: linear-gradient(135deg, #636e72, #b2bec3);">üêß</span> <span data-i18n="infrastructure.linux.title">Linux Runner (Yoga)</span></h2>
                <p data-i18n="infrastructure.linux.description">Docker + Shell Runner auf Linux Yoga. Primary CI/CD Runner.</p>
                <div class="btn-group">
                    <button class="btn btn-success" onclick="triggerPipeline('START_LINUX')">‚ñ∂Ô∏è <span data-i18n="common:actions.start">Start</span></button>
                    <button class="btn btn-danger" onclick="triggerPipeline('STOP_LINUX')">‚èπÔ∏è <span data-i18n="common:actions.stop">Stop</span></button>
                    <button class="btn btn-secondary" onclick="triggerPipeline('CHECK_LINUX')">üìä <span data-i18n="common:actions.status">Status</span></button>
                </div>
            </div>
            
            <div class="card">
                <h2><span class="icon" style="background: linear-gradient(135deg, #dfe6e9, #b2bec3);">üçé</span> <span data-i18n="infrastructure.mac.title">Mac Runner (Mac2)</span></h2>
                <p data-i18n="infrastructure.mac.description">Docker + Shell Runner auf Mac Mini M2. Fallback Runner.</p>
                <div class="btn-group">
                    <button class="btn btn-success" onclick="triggerPipeline('START_MAC2')">‚ñ∂Ô∏è <span data-i18n="common:actions.start">Start</span></button>
                    <button class="btn btn-danger" onclick="triggerPipeline('STOP_MAC2')">‚èπÔ∏è <span data-i18n="common:actions.stop">Stop</span></button>
                    <button class="btn btn-secondary" onclick="triggerPipeline('CHECK_MAC2')">üìä <span data-i18n="common:actions.status">Status</span></button>
                </div>
            </div>
            
            <div class="card">
                <h2><span class="icon" style="background: linear-gradient(135deg, #4285f4, #34a853);">‚òÅÔ∏è</span> <span data-i18n="infrastructure.gcp.title">GCP VM</span></h2>
                <p data-i18n="infrastructure.gcp.description">Google Cloud VM f√ºr Benchmarks und Heavy Workloads.</p>
                <div class="btn-group">
                    <button class="btn btn-success" onclick="triggerPipeline('GCP_VM_START')">‚ñ∂Ô∏è <span data-i18n="common:actions.start">Start</span></button>
                    <button class="btn btn-danger" onclick="triggerPipeline('GCP_VM_STOP')">‚èπÔ∏è <span data-i18n="common:actions.stop">Stop</span></button>
                    <button class="btn btn-secondary" onclick="triggerPipeline('GCP_VM_STATUS')">üìä <span data-i18n="common:actions.status">Status</span></button>
                </div>
            </div>
        </div>
        
        <!-- Documentation -->
        <div class="section-title">üìö <span data-i18n="sections.docs">Dokumentation & Hilfe</span></div>
        <div class="grid">
            <div class="card">
                <h2><span class="icon" style="background: linear-gradient(135deg, #fd79a8, #e84393);">üìñ</span> <span data-i18n="docs.manual.title">Bedienungsanleitung</span></h2>
                <p data-i18n="docs.manual.description">Schritt-f√ºr-Schritt Anleitung f√ºr alle Portal-Funktionen.</p>
                <div class="btn-group">
                    <a href="https://gitlab.com/wolfram_laube/blauweiss_llc/projects/clarissa/-/blob/main/docs/ops/quickstart.md" target="_blank" class="btn btn-primary">üìñ <span data-i18n="docs.manual.quickStart">Quick Start</span></a>
                    <a href="https://gitlab.com/wolfram_laube/blauweiss_llc/projects/clarissa/-/tree/main/docs/ops" target="_blank" class="btn btn-secondary">üìö <span data-i18n="docs.manual.allDocs">Alle Docs</span></a>
                </div>
            </div>
            
            <div class="card">
                <h2><span class="icon" style="background: linear-gradient(135deg, #00cec9, #81ecec);">üîó</span> <span data-i18n="docs.api.title">API & Integration</span></h2>
                <p data-i18n="docs.api.description">GitLab API, Pipeline Triggers, Webhooks.</p>
                <div class="btn-group">
                    <a href="https://gitlab.com/wolfram_laube/blauweiss_llc/projects/clarissa/-/blob/main/docs/ops/api-reference.md" target="_blank" class="btn btn-primary">üìñ <span data-i18n="docs.api.apiDocs">API Docs</span></a>
                    <a href="https://gitlab.com/wolfram_laube/blauweiss_llc/projects/clarissa/-/settings/ci_cd" class="btn btn-secondary" target="_blank">‚öôÔ∏è <span data-i18n="docs.api.cicdSettings">CI/CD Settings</span></a>
                </div>
            </div>
        </div>
        
        <div id="output"></div>
        
        
        <!-- CLARISSA Research -->
        <div class="section-title">üî¨ <span data-i18n="sections.research">CLARISSA Research</span></div>
        <div class="grid">
            <div class="card">
                <h2><span class="icon" style="background: linear-gradient(135deg, #00cec9, #0984e3);">üèóÔ∏è</span> SPE Benchmark Viewer</h2>
                <p>Interaktive 3D-Visualisierung aller SPE Cross-Validation Benchmarks. OPM Flow 2025.10 echte Simulationsergebnisse f√ºr SPE1, SPE5, SPE9, SPE10.</p>
                <div class="btn-group">
                    <a href="viewer/spe-viewer-standalone.html" class="btn btn-primary">üéØ Viewer √∂ffnen</a>
                    <a href="https://gitlab.com/wolfram_laube/blauweiss_llc/projects/clarissa/-/tree/main/scripts/benchmarks" target="_blank" class="btn">üìÇ Scripts</a>
                </div>
            </div>
            <div class="card">
                <h2><span class="icon" style="background: linear-gradient(135deg, #6c5ce7, #a29bfe);">üìä</span> Sim-Engine Status</h2>
                <p>PAL Architecture ICE v2.1 ¬∑ 574 Tests ¬∑ 7 Module. ADR-040. SPE1/5/9/10 M1 validiert auf Nordic VM.</p>
                <div class="btn-group">
                    <a href="https://gitlab.com/wolfram_laube/blauweiss_llc/projects/clarissa/-/tree/main/docs/architecture" target="_blank" class="btn btn-primary">üìê ADRs</a>
                    <a href="http://178.156.251.191:8888" target="_blank" class="btn">üñ•Ô∏è Nordic VM</a>
                </div>
            </div>
        </div>
        
<footer>
            <p data-i18n="footer.title">Blauweiss EDV e.U. Operations Portal v1.0</p>
            <p>
                <a href="https://gitlab.com/wolfram_laube/blauweiss_llc" target="_blank">GitLab</a> ¬∑ 
                <a href="https://gitlab.com/wolfram_laube/blauweiss_llc/projects/clarissa" target="_blank">GitHub</a> ¬∑ 
                <a href="https://gitlab.com/wolfram_laube/blauweiss_llc/projects/clarissa/-/blob/main/docs/ops/crm.md" target="_blank">CRM Docs</a>
            </p>
        </footer>
    </div>
    
    <!-- i18n Configuration -->
    <script src="js/i18n.js"></script>
    
    <script>
        // Configuration
        const GITLAB_PROJECT = '77260390';
        const TRIGGER_TOKEN = 'glptt-4o6c4b5d8e9f0a1b2c3d4e5f6a7b8c9d';  // Replace with actual
        const TRIGGER_URL = `https://gitlab.com/api/v4/projects/${GITLAB_PROJECT}/trigger/pipeline`;
        
        // Pipeline variable mappings
        const PIPELINE_VARS = {
            'APPLICATIONS_CRAWL': { 'APPLICATIONS_CRAWL': 'true' },
            'APPLICATIONS_MATCH': { 'APPLICATIONS_MATCH': 'true' },
            'APPLICATIONS_DRAFTS': { 'APPLICATIONS_DRAFTS': 'true' },
            'APPLICATIONS_PIPELINE': { 'APPLICATIONS_PIPELINE': 'true' },
            'APPLICATIONS_DRY_RUN': { 'APPLICATIONS_DRY_RUN': 'true' },
            'CRM_QA': { 'CRM_QA': 'true' },
            'BILLING_INVOICE': { 'BILLING_PIPELINE': 'true' },
            'START_LINUX': { 'START_LINUX_RUNNER': 'true' },
            'STOP_LINUX': { 'STOP_LINUX_RUNNER': 'true' },
            'CHECK_LINUX': { 'CHECK_LINUX_STATUS': 'true' },
            'START_MAC2': { 'START_MAC2_RUNNER': 'true' },
            'STOP_MAC2': { 'STOP_MAC2_RUNNER': 'true' },
            'CHECK_MAC2': { 'CHECK_MAC2_STATUS': 'true' },
            'GCP_VM_START': { 'GCP_VM_START': 'true' },
            'GCP_VM_STOP': { 'GCP_VM_STOP': 'true' },
            'GCP_VM_STATUS': { 'GCP_VM_STATUS': 'true' },
        };
        
        function triggerPipeline(action) {
            const output = document.getElementById('output');
            output.classList.add('visible');
            
            const triggeringMsg = BlauweissI18n.t('output.triggering', { action: action });
            output.innerHTML = `<p style="color: var(--yellow);">‚è≥ ${triggeringMsg}</p>`;
            
            const vars = PIPELINE_VARS[action] || {};
            const formData = new FormData();
            formData.append('token', TRIGGER_TOKEN);
            formData.append('ref', 'main');
            
            for (const [key, value] of Object.entries(vars)) {
                formData.append(`variables[${key}]`, value);
            }
            
            fetch(TRIGGER_URL, { method: 'POST', body: formData })
                .then(r => r.json())
                .then(data => {
                    if (data.id) {
                        const startedMsg = BlauweissI18n.t('output.pipelineStarted', { id: data.id });
                        const openMsg = BlauweissI18n.t('output.openPipeline');
                        output.innerHTML = `
                            <p style="color: var(--green);">‚úÖ ${startedMsg}</p>
                            <p><a href="${data.web_url}" target="_blank" style="color: var(--blue);">‚Üí ${openMsg}</a></p>
                        `;
                    } else {
                        const errorMsg = BlauweissI18n.t('output.error', { message: JSON.stringify(data) });
                        output.innerHTML = `<p style="color: var(--red);">‚ùå ${errorMsg}</p>`;
                    }
                })
                .catch(err => {
                    const networkErrorMsg = BlauweissI18n.t('output.networkError', { message: err.message });
                    const tipMsg = BlauweissI18n.t('output.manualTip');
                    output.innerHTML = `<p style="color: var(--red);">‚ùå ${networkErrorMsg}</p>
                        <p style="color: var(--subtext);">${tipMsg}</p>`;
                });
        }
        
        // Load stats
        function loadStats() {
            document.getElementById('stat-issues').textContent = BlauweissI18n.formatNumber(185);
            document.getElementById('stat-hotleads').textContent = BlauweissI18n.formatNumber(16);
            document.getElementById('stat-pipeline').textContent = BlauweissI18n.formatNumber(156);
            document.getElementById('stat-conversion').textContent = '0.5%';
        }
        
        // Initialize
        document.addEventListener('DOMContentLoaded', async () => {
            await BlauweissI18n.init();
            loadStats();
        });
        
        // Re-load stats when language changes
        window.addEventListener('languageChanged', () => {
            loadStats();
        });
    </script>
</body>
</html>
